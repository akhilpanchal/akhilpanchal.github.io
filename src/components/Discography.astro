---
import VideoCard from './VideoCard.astro';

interface VideoData {
  videoId: string;
  title: string;
  releaseDate?: Date | string;
  description?: string;
  category?: 'original' | 'cover';
}

interface Props {
  videos: VideoData[];
  title?: string;
  description?: string;
  filter?: 'all' | 'original' | 'cover';
}

const { 
  videos, 
  title = 'Discography', 
  description,
  filter = 'all' 
} = Astro.props;

// Filter videos by category if specified
const filteredVideos = filter === 'all' 
  ? videos 
  : videos.filter(video => video.category === filter);
---

<section class="w-full">
  <!-- Section Header -->
  <div class="mb-8">
    <h2 class="text-3xl font-bold mb-2">{title}</h2>
    {description && (
      <p class="text-muted-foreground text-lg">{description}</p>
    )}
  </div>
  
  <!-- Video Grid -->
  {filteredVideos.length > 0 ? (
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {filteredVideos.map((video) => (
        <VideoCard {...video} />
      ))}
    </div>
  ) : (
    <div class="text-center py-12">
      <p class="text-muted-foreground">No videos to display.</p>
    </div>
  )}
</section>
